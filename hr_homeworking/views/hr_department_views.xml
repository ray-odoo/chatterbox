<?xml version="1.0"?>
<odoo>
    <record id="view_department_form" model="ir.ui.view">
        <field name="name">view.department.form.inherit.hr.homeworking</field>
        <field name="model">hr.department</field>
        <field name="inherit_id" ref="hr.view_department_form"/>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="inside">
                <notebook>
                    <page string="Homeworking">
                        <field name="homeworking_schedule_ids"/>
                    </page>
                </notebook>
            </xpath>
        </field>
    </record>

    <record id="hr_department_view_kanban" model="ir.ui.view">
        <field name="name">hr.department.view.kanban.inherit.hr.homeworking</field>
        <field name="model">hr.department</field>
        <field name="inherit_id" ref="hr.hr_department_view_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//templates" position="before">
                <field name="employees_at_home"/>
                <field name="employees_in_office"/>
                <field name="employees_unspecified"/>
            </xpath>
            <xpath expr="//div[hasclass('o_kanban_card_lower_content')]" position="inside">
                <div class="row o_kanban_primary_bottom bottom_block"
                        style="background-color: white"
                        t-if="record.employees_unspecified.raw_value > 0 ||
                            record.employees_at_home.raw_value > 0 ||
                            record.employees_in_office.raw_value > 0">
                    <div class="col-4">
                        Homeworking
                    </div>
                    <div class="col-8">
                        <a class="o_homeworking_kanban_department_icon float-end fa fa-question-circle-o o-homeworking-status-icon" role="img"
                            t-if="record.employees_unspecified.raw_value > 0"
                            name="%(hr.act_employee_from_department)d" type="action"
                            context="{'search_default_homeworking_location_unspecified': '1'}"
                            aria-label="Location Unspecified" title="Location Unspecified">
                            <field name="employees_unspecified"/>
                        </a>
                        <a class="o_homeworking_kanban_department_icon float-end fa fa-home o-homeworking-status-icon" role="img"
                            t-if="record.employees_at_home.raw_value > 0"
                            name="%(hr.act_employee_from_department)d" type="action"
                            context="{'search_default_homeworking_location_home': '1'}"
                            aria-label="From Home" title="From Home">
                            <field name="employees_at_home"/>
                        </a>
                        <a class="o_homeworking_kanban_department_icon float-end fa fa-building o-homeworking-status-icon" role="img"
                            t-if="record.employees_in_office.raw_value > 0"
                            name="%(hr.act_employee_from_department)d" type="action"
                            context="{'search_default_homeworking_location_office': '1'}"
                            aria-label="In Office" title="In Office">
                            <field name="employees_in_office"/>
                        </a>
                    </div>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
